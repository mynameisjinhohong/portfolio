# 핵전쟁에서 개발자로 살아남기

## 프로젝트 개요

- 예술공학대학 졸업작품으로 제작한 프로젝트
- 코딩 교육을 위한 기능성 게임
- Git Flow 전략을 사용하여 개발
- 졸업작품 전시회에 전시
    - 해당 프로젝트를 관람한 관람객 중 3명의 타 대학 학생이 프로젝트 참여하고 싶다고 제안함
    - 교수님께서 프로젝트 확인하고 [한국디지털컨텐츠학회에 논문 투고](https://www.notion.so/632c3b712d4f4e189255b1b8f62a99ad?pvs=21)하자 제안

## 프로젝트 설명

- 핵전쟁으로 멸망한 세계 속에서 유일한 생존자가 된 플레이어
    - 플레이어는 인류 최후의 보루인 연구실에서 연구실들을 다시 정상화 시키며 인류 부흥을 위해 노력해야 한다.
- 기본적으로 생존 게임의 형태를 띄고 있음.
    - 공복도,체력,오염도 등의 수치가 존재하고 시간이 지날수록 해당 수치가 감소함
    - 식량이나 아이템등을 사용하여 해당 수치들을 조정가능
    - 체력이 0이 되면 게임 오버
- 플레이어는 연구실을 탐험하며 아이템들을 찾아야 함.
    - 특정 연구실들은 잠겨져 있음.
    - 해당 연구실을 ‘해킹’해서 연구실을 해금할 수 있음
- 해킹의 과정은 코딩 퍼즐로 형상화
    - 플레이어의 바이러스를 형상화한 캐릭터가 연구실의 메인 시스템에 접근하면 해킹 성공
    - 바이러스는 블록코딩을 활용해서 움직일 수 있음
    - 가장 최초에 로봇이 움직일 코드를 작성
    - 이후에 다른 오브젝트에 로봇이 접촉할 경우, 해당 오브젝트를 해킹해서 해당 오브젝트의 블럭코드를 수정 가능
- 해당 연구실을 활성화하고 나서는 해당 연구실에 전력을 공급해서 아이템 생산 가능

## 작업 내용

- 코딩 씬을 도맡아 제작
- [BlockEngine2](https://assetstore.unity.com/packages/templates/systems/blocks-engine-2-201602) 라는 에셋을 활용하여 코딩씬 제작
- 각 코드 블럭들의 기능 제작
    - 공통 블럭
        - 일정 횟수 반복블럭(for),무한반복블럭(while true),반복문 탈출 블럭(break)
    - 단말의 블록
        - 이동,회전,키오브젝트 수집 블럭
        - 상,하,좌,우 공간 있을때 실행되는 if 블럭 및 ifElse 블럭
    - 각 오브젝트들의 블럭
        - 방화벽,네트워크 브리지,양자 터널 등등 각각의 오브젝트에 필요한 블럭들
        - 자세한 내용은 기획 Notion 참조
- Turn 시스템 제작
    - 본래 실시간으로 작동하는 BlockEngine2의 시스템을 턴 단위로 코드가 작동하도록 수정
- Grid 시스템 제작
    - 맵의 각 cell 들을 객체로 만들어 각 객체의 정보들을 관리해주는 Grid시스템 제작
    - 이 Grid 들을 기준으로 이동 및 초기화가 실행
- Coding 시스템 제작
    - 오브젝트에 접근 하였을 때에만 오브젝트의 코드를 수정할 수 있도록 제작
    - 단말이 동작하고 있을 때에는 단말의 코드를 변경할 수 없도록 제작
- 보상 시스템 제작
    - 클리어 하는데에 소모된 턴 수에 따라서 다른 보상이 제공되도록 제작
    - 씬을 넘어서 데이터를 전달해야 하기 때문에 GameManager를 경유해서 전달

## 핵심 스크립트
1. TurnManager
- 턴 관리
- 모든 블록들이 다음 턴으로 넘어갈 준비가 되었다고 요청을 보내면 다음 턴으로 진행
- 각 턴마다 실행될 블록들의 배열을 지니고 있음
- 다음턴에 실행될 블록들도 가지고 있다가 다음 턴이 되면 다음턴에 실행할 블록을 현재 턴에 실행할 블록으로 대체
2. GridManager,Map,Cell 스크립트들
- 각 맵을 관리
- CellRow 에셋을 활용해 2차원 배열을 인스펙터에서 조정할 수 있게 설정
- 각 칸마다 Cell 스크립트를 상속받은 스크립트들이 있고 이를 GrindManager에서 관리해줌
- 플레이어 로봇이 이동하거나 특정 오브젝트 Cell에 도착했을 때 이벤트 관리
3. GamePlayManager,CodingManager 등
- 게임 도중에 저장하고 나가거나 돌아가고 있는 코드를 정지하는 등 게임 플레이 플로우와 관련된 부분 관리
- 유저가 사용한 코딩 블럭의 개수를 체크하고, 로봇 혹은 오브젝트들을 클릭했을때 해당 코딩 구역이 등장할 수 있도록
- 전반적인 코딩 씬 안에서의 게임 플레이 관리
4. Block 스크립트들
- 각 코딩 블록에 맞는 효과를 가지도록
- 전진,좌우회전,한턴쉬기,If문,IfElse문,While문,For문 등등 다양한 코딩 블럭 작성
## 회고
- 다양한 도전을 많이 해볼 수 있었던 프로젝트였다.
  - 노션을 활용한 일정관리 및 기획서 정리
  - Git Flow 전략을 활용한 브랜치 관리
  - 먼저 코드 구조를 짜고 시작한 개발
  - 에셋을 구매 후 에셋 제작자와 지속적으로 메일을 주고받으며 소통
- 다만 기획 과정에 교수님들의 입김이 좀 들어가서, 최초 기획과 좀 달라진 것은 아쉽게 생각한다.
  - 코딩과 생존이 적절하게 결합된 형태가 되길 원했는데, 최종적으로는 게임 파트 따로 코딩 공부 파트 따로 분리가 되어 버렸다.
- 졸업전시회에서 꽤나 괜찮은 반응을 얻은 것이 좋았다.
  - 우리 팀에 합류하고 싶다는 제안도 3번이나 받았고, 타 대학의 교수님이 와서 칭찬하며 여러가지 물어보고 가시기도 하였다.
  - 지도교수님께서 한국디지털컨텐츠학회에 논문을 제출하자고 제안하셔서 논문을 작성해서 제출하기도 하였다.
